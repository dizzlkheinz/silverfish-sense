<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Silverfish Sense — Calm, Non-Lethal Silverfish Coexistence Tool</title>
  <meta name="description" content="Worried about silverfish? Get a calm explanation and a non-lethal, coexistence-first plan to protect your home and your stuff." />
  <meta name="robots" content="index,follow" />
  <meta property="og:title" content="Silverfish Sense — Coexistence Tool" />
  <meta property="og:description" content="A calm, non-lethal plan for living with silverfish while protecting books, clothes, and food." />
  <meta property="og:type" content="website" />
  <style>
    :root{
      --bg:#0a0024;
      --card:#13082f;
      --muted:#cfd6ff;
      --text:#fff7ff;
      --accent:#52f7ff;
      --warn:#ffe66a;
      --risk:#ff6ad5;
      --border:#4a2cff;
      --chip:#1a0f3b;
      --link:#7dffb2;
      --neon-pink:#ff6ad5;
      --neon-cyan:#52f7ff;
      --neon-yellow:#ffe66a;
      --neon-green:#7dffb2;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Comic Sans MS", "Comic Sans", "Trebuchet MS", "Verdana", sans-serif;
      background-color: var(--bg);
      background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80'%3E%3Crect width='80' height='80' fill='none'/%3E%3Ccircle cx='10' cy='12' r='1.2' fill='%23ffffff'/%3E%3Ccircle cx='52' cy='28' r='1.4' fill='%23ffe66a'/%3E%3Ccircle cx='70' cy='60' r='1.1' fill='%2352f7ff'/%3E%3Ccircle cx='26' cy='66' r='1' fill='%23ff6ad5'/%3E%3C/svg%3E"),
        radial-gradient(1200px 700px at 20% 0%, #2b1055 0%, var(--bg) 55%, #04000f 100%);
      background-attachment: fixed;
      color:var(--text);
      line-height:1.45;
    }
    a{color:var(--link); text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:980px; margin:0 auto; padding:28px 18px 72px}
    header{
      display:flex; gap:14px; align-items:flex-start; justify-content:space-between; flex-wrap:wrap;
      margin-bottom:18px;
    }
    .brand{
      display:flex; gap:12px; align-items:center;
    }
    .logo{
      width:44px; height:44px; border-radius:14px;
      background: linear-gradient(135deg, #ff6ad5 0%, #52f7ff 45%, #ffe66a 100%);
      border:2px solid var(--border);
      display:grid; place-items:center;
      box-shadow: 0 10px 0 rgba(0,0,0,.35), 0 0 18px rgba(82,247,255,.6);
      font-size:22px;
    }
    .logo svg{width:32px; height:32px; filter: drop-shadow(0 0 6px rgba(255,255,255,.5))}
    h1{font-size:28px; margin:0; font-family: "Impact", "Arial Black", "Trebuchet MS", sans-serif; text-shadow: 2px 2px 0 #000, 0 0 12px rgba(255,106,213,.7)}
    .subtitle{color:var(--muted); margin-top:6px; max-width:64ch; text-shadow: 1px 1px 0 rgba(0,0,0,.6)}
    .pillrow{display:flex; gap:8px; flex-wrap:wrap; margin-top:10px}
    .pill{
      background: rgba(10,0,36,.75);
      border:2px solid var(--border);
      padding:6px 10px; border-radius:999px;
      font-size:13px; color:#ffffff;
      text-shadow: 0 0 6px rgba(82,247,255,.45);
    }
    .grid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:14px;
      margin-top:14px;
    }
    @media (max-width: 860px){
      .grid{grid-template-columns: 1fr;}
    }
    .card{
      background: rgba(19,8,47,.82);
      border:2px solid var(--border);
      border-radius:18px;
      padding:16px;
      box-shadow: 0 8px 0 rgba(0,0,0,.45), 0 18px 60px rgba(0,0,0,.28);
      backdrop-filter: blur(10px);
    }
    .card h2{margin:0 0 10px; font-size:18px}
    .hint{color:var(--muted); font-size:13.5px; margin-top:-2px}
    .section{margin-top:12px; padding-top:12px; border-top:1px dashed rgba(33,48,68,.8)}
    .q{
      display:grid; gap:8px; margin-top:10px;
    }
    label{
      display:flex; gap:10px; align-items:flex-start;
      background: rgba(12,18,28,.55);
      border:1px solid rgba(33,48,68,.7);
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
    }
    label:hover{border-color: rgba(126,231,135,.55)}
    input[type="checkbox"], input[type="radio"]{transform: translateY(2px)}
    .row{display:flex; gap:10px; flex-wrap:wrap}
    .select{
      width:100%;
      background: rgba(12,18,28,.55);
      color: var(--text);
      border:1px solid rgba(33,48,68,.7);
      padding:10px 12px;
      border-radius:14px;
      outline:none;
    }
    .btnrow{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
    button{
      border:1px solid rgba(126,231,135,.4);
      background: linear-gradient(135deg, rgba(126,231,135,.18), rgba(138,180,255,.12));
      color:var(--text);
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      font-weight:600;
    }
    #btnRun{
      padding:12px 16px;
      font-size:16px;
      border:2px solid var(--neon-cyan);
      background: linear-gradient(135deg, rgba(82,247,255,.45), rgba(255,230,106,.35), rgba(255,106,213,.3));
      box-shadow: 0 0 0 3px rgba(0,0,0,.35), 0 0 18px rgba(82,247,255,.8);
      text-transform: uppercase;
      letter-spacing: .06em;
    }
    #btnRun:hover{
      border-color: var(--neon-yellow);
      box-shadow: 0 0 0 3px rgba(0,0,0,.35), 0 0 26px rgba(255,230,106,.9);
    }
    button:hover{border-color: rgba(126,231,135,.75)}
    .ghost{
      border:1px solid rgba(33,48,68,.9);
      background: rgba(12,18,28,.45);
      font-weight:600;
    }
    .bar{
      height:10px; background: rgba(33,48,68,.9);
      border-radius:999px; overflow:hidden; border:1px solid rgba(33,48,68,1);
      margin-top:8px;
    }
    .bar > div{height:100%; width:0%}
    .kpis{display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; margin-top:12px}
    @media (max-width: 560px){ .kpis{grid-template-columns: 1fr;} }
    .kpi{
      background: rgba(12,18,28,.55);
      border:1px solid rgba(33,48,68,.7);
      border-radius:16px;
      padding:10px 12px;
    }
    .kpi .t{font-size:12.5px; color:var(--muted)}
    .kpi .v{font-size:16px; font-weight:800; margin-top:6px}
    .result{
      display:none;
      margin-top:12px;
      padding-top:12px;
      border-top:1px dashed rgba(33,48,68,.8);
    }
    .tag{
      display:inline-flex; align-items:center; gap:8px;
      background: rgba(20,35,58,.65);
      border:1px solid rgba(33,48,68,.9);
      padding:6px 10px;
      border-radius:999px;
      font-weight:700;
      margin-bottom:10px;
    }
    .dot{
      width:10px; height:10px; border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 0 4px rgba(126,231,135,.12);
    }
    .list{margin:8px 0 0 18px}
    .muted{color:var(--muted)}
    .callout{
      background: rgba(12,18,28,.55);
      border:1px solid rgba(33,48,68,.7);
      border-radius:16px;
      padding:12px;
      margin-top:10px;
    }
    .shopgrid{
      display:grid; grid-template-columns: repeat(2, 1fr); gap:10px; margin-top:10px
    }
    @media (max-width: 560px){ .shopgrid{grid-template-columns:1fr} }
    .shopitem{
      background: rgba(12,18,28,.55);
      border:1px solid rgba(33,48,68,.7);
      border-radius:16px;
      padding:12px;
    }
    .shopitem .name{font-weight:800}
    .shopitem .why{color:var(--muted); font-size:13px; margin-top:6px}
    footer{margin-top:18px; color:var(--muted); font-size:13px}
    .tiny{font-size:12.5px; color:var(--muted)}
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      background: rgba(12,18,28,.7);
      border:1px solid rgba(33,48,68,.9);
      padding:2px 6px;
      border-radius:8px;
      color:#cfe2ff;
    }
    .badge-row{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      margin-top:10px;
    }
    .blink{
      display:inline-block;
      padding:4px 8px;
      border:2px dashed var(--neon-yellow);
      background: rgba(0,0,0,.45);
      color: var(--neon-yellow);
      font-weight:800;
      letter-spacing:.08em;
      text-transform:uppercase;
      text-shadow: 0 0 8px rgba(255,230,106,.8);
    }
    .counter{
      font-family: "Courier New", "Lucida Console", monospace;
      background: rgba(0,0,0,.4);
      border:2px solid var(--border);
      padding:4px 8px;
      color: var(--neon-green);
      box-shadow: inset 0 0 10px rgba(82,247,255,.25);
    }
    .marquee{
      border:2px dotted var(--neon-pink);
      background: linear-gradient(90deg, rgba(255,106,213,.25), rgba(82,247,255,.25));
      padding:6px 8px;
      text-transform:uppercase;
      font-family: "Courier New", "Lucida Console", monospace;
      margin-bottom:12px;
    }
    .marquee marquee{
      color: var(--neon-yellow);
      font-weight:800;
      letter-spacing:.12em;
      text-shadow: 0 0 10px rgba(255,230,106,.9);
    }
    .geo-card{
      margin-top:14px;
      border-style: double;
    }
    .gallery{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap:12px;
      align-items:stretch;
    }
    .polaroid{
      background:#fff;
      color:#111;
      border:4px solid #fff;
      border-bottom-width:18px;
      box-shadow: 0 6px 0 rgba(0,0,0,.45), 0 10px 22px rgba(0,0,0,.4);
      padding:6px;
      border-radius:6px;
      transform: rotate(-1deg);
    }
    .polaroid img, .polaroid svg{
      width:100%;
      height:150px;
      object-fit:cover;
      background:#f2f2f2;
      border-radius:4px;
      display:block;
    }
    .polaroid figcaption{
      font-size:12px;
      margin-top:6px;
      text-align:center;
      font-family: "Courier New", "Lucida Console", monospace;
    }
    .tilt-1{transform: rotate(-2deg)}
    .tilt-2{transform: rotate(1.6deg)}
    .tilt-3{transform: rotate(-1deg)}
    .stamps{
      display:flex; gap:8px; flex-wrap:wrap;
      margin-top:12px;
    }
    .stamp{
      display:inline-flex; align-items:center; justify-content:center;
      font-family: "Courier New", "Lucida Console", monospace;
      font-size:11px;
      padding:6px 8px;
      background: linear-gradient(135deg, #0b0033, #1e0b5a);
      border:2px solid var(--neon-cyan);
      color: var(--neon-cyan);
      text-transform:uppercase;
      box-shadow: 0 0 10px rgba(82,247,255,.35);
    }
    .fishsvg{
      width:100%;
      height:150px;
      filter: drop-shadow(0 0 10px rgba(82,247,255,.6));
    }
    .fishsvg .body{
      fill: url(#fishGrad);
      stroke: #1b0a44;
      stroke-width:3;
    }
    .fishsvg .segment{
      fill:none;
      stroke: rgba(0,0,0,.4);
      stroke-width:2;
      stroke-dasharray:6 6;
    }
    .fishsvg .antenna{
      fill:none;
      stroke: #111;
      stroke-width:3;
      stroke-linecap:round;
    }
    @media (prefers-reduced-motion: reduce){
      .marquee marquee{scroll-behavior:auto}
    }
  </style>
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"Silverfish Sense",
    "applicationCategory":"LifestyleApplication",
    "description":"A calm, non-lethal silverfish coexistence tool that explains why they're present and how to protect your home without harming them.",
    "operatingSystem":"All"
  }
  </script>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <svg viewBox="0 0 64 64" role="img" aria-label="Silverfish icon">
            <defs>
              <linearGradient id="miniGrad" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="#0a0024"/>
                <stop offset="1" stop-color="#ffffff"/>
              </linearGradient>
            </defs>
            <path d="M8 34c8-16 28-22 45-11 5 3 5 5 0 8-17 11-37 6-45 3z" fill="url(#miniGrad)" stroke="#0b0033" stroke-width="2"/>
            <path d="M12 30c6-10 20-14 33-7" fill="none" stroke="#0b0033" stroke-width="2" stroke-linecap="round"/>
            <circle cx="16" cy="32" r="2" fill="#0b0033"/>
            <path d="M10 26c-4-6-8-8-10-10" fill="none" stroke="#0b0033" stroke-width="2" stroke-linecap="round"/>
            <path d="M10 40c-4 6-8 8-10 10" fill="none" stroke="#0b0033" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <div>
          <h1>Silverfish Sense</h1>
          <div class="subtitle">
            A calm, non-lethal tool to understand why silverfish show up — and how to protect your home <b>without hurting them</b>.
          </div>
          <div class="pillrow">
            <span class="pill">No poisons</span>
            <span class="pill">No traps</span>
            <span class="pill">Coexistence-first</span>
            <span class="pill">Books + clothes safe</span>
          </div>
          <div class="badge-row">
            <span class="blink">Under Construction</span>
            <span class="counter" id="visitCounter">Visitors: 000001</span>
            <span class="counter">Updated: Feb 7, 2026</span>
          </div>
        </div>
      </div>

      <div class="card" style="min-width:260px; max-width:340px;">
        <h2 style="margin-bottom:6px;">Quick truth</h2>
        <div class="hint">
          Silverfish don’t bite or sting. They’re mostly a “humidity + shelter” signal.
          This tool is educational, not medical/pest advice.
        </div>
        <div class="bar" aria-hidden="true"><div id="topBar"></div></div>
        <div class="tiny" style="margin-top:8px;">Tip: after changes, sightings often fade over 1–3 weeks.</div>
      </div>
    </header>

    <section class="card geo-card" aria-label="Silverfish gallery and mascot">
      <div class="marquee">
        <marquee behavior="alternate" scrollamount="6">Welcome to Silverfish Sense — the calmest corner of the web</marquee>
      </div>
      <div class="gallery">
        <figure class="polaroid tilt-1">
          <img src="assets/silverfish-1.jpg" alt="Silverfish on a pale surface, photographed from above" loading="lazy" />
          <figcaption>Silverfish in the wild.</figcaption>
        </figure>
        <figure class="polaroid tilt-2">
          <img src="assets/silverfish-2.jpg" alt="Close-up of a silverfish on rough stone" loading="lazy" />
          <figcaption>Silverfish on a white surface.</figcaption>
        </figure>
        <figure class="polaroid tilt-3">
          <img src="assets/silverfish-3.jpg" alt="Silverfish with long antennae photographed on a dark surface" loading="lazy" />
          <figcaption>Long antennae, classic look.</figcaption>
        </figure>
        <figure class="polaroid tilt-2">
          <svg class="fishsvg" viewBox="0 0 240 90" role="img" aria-label="Silverfish SVG mascot">
            <defs>
              <linearGradient id="fishGrad" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="#52f7ff"/>
                <stop offset="0.6" stop-color="#ffe66a"/>
                <stop offset="1" stop-color="#ff6ad5"/>
              </linearGradient>
            </defs>
            <path class="body" d="M18 45c16-26 64-34 118-26 28 4 56 18 76 26-20 8-48 22-76 26-54 8-102 0-118-26z"/>
            <path class="segment" d="M60 30c6 10 6 20 0 30"/>
            <path class="segment" d="M90 26c7 12 7 26 0 38"/>
            <path class="segment" d="M120 24c7 14 7 28 0 42"/>
            <circle cx="40" cy="42" r="4" fill="#111"/>
            <path class="antenna" d="M32 40c-18-8-26-18-30-30"/>
            <path class="antenna" d="M32 48c-18 8-26 18-30 30"/>
            <path d="M200 36l28-12-8 16 12 6-12 6 8 16-28-12" fill="#1b0a44"/>
          </svg>
          <figcaption>Site mascot: Glimmer the Silverfish.</figcaption>
        </figure>
      </div>
      <div class="stamps">
        <span class="stamp">No Poisons</span>
        <span class="stamp">100% Bug Respect</span>
        <span class="stamp">Coexistence First</span>
        <span class="stamp">Calm Plan</span>
        <span class="stamp">Book Safe</span>
      </div>
    </section>

    <section class="card" aria-label="Silverfish facts">
      <h2>A few facts to reduce the panic spiral.</h2>
      <ul class="list">
        <li>They are wingless and shy, so they sprint for cover when the lights flip on.</li>
        <li>They keep molting as adults, which is rare among insects.</li>
        <li>Estimated lifespan: around 2 to 8 years.</li>
        <li>You can live for years with the same silverfish in your home.</li>
        <li>They do not transmit disease.</li>
        <li>A silverfish usually lays fewer than 100 eggs in her lifetime.</li>
        <li>Their diet leans toward starches and glue (paper, book bindings, crumbs), not people.</li>
        <li>They are an ancient lineage of insects that has barely changed in form.</li>
      </ul>
    </section>

    <section class="card" aria-label="Gentle gear">
      <h2>Gentle gear</h2>
      <div class="muted" style="margin-top:6px;">If you want to support the site, these are harm-free helpers.</div>
      <div class="shopgrid" id="shop">
        <!-- Filled by JS -->
      </div>
    </section>

    <div class="grid">
      <section class="card">
        <h2>60-second check-in</h2>
        <div class="hint">Answer honestly. This doesn’t judge you. It just maps what silverfish like.</div>

        <div class="section">
          <div style="font-weight:800; margin-bottom:6px;">Where have you seen them?</div>
          <select class="select" id="where">
            <option value="bathroom">Bathroom / laundry area</option>
            <option value="kitchen">Kitchen / pantry</option>
            <option value="basement">Basement / crawlspace / utility room</option>
            <option value="bedroom">Bedroom / living room</option>
            <option value="books">Near books / papers / closets</option>
            <option value="multiple">Multiple rooms</option>
          </select>

          <div style="font-weight:800; margin:12px 0 6px;">How often lately?</div>
          <select class="select" id="freq">
            <option value="once">Just once</option>
            <option value="monthly">A couple times a month</option>
            <option value="weekly">A few times a week</option>
            <option value="daily">Daily or almost daily</option>
          </select>

          <div class="q">
            <label><input type="checkbox" id="night" /> Mostly at night / when lights are off</label>
            <label><input type="checkbox" id="humidity" /> Air feels humid OR you see condensation (windows/pipes)</label>
            <label><input type="checkbox" id="leak" /> Recent leak/water event OR damp smell</label>
            <label><input type="checkbox" id="paper" /> You have exposed paper/cardboard storage (boxes, piles)</label>
            <label><input type="checkbox" id="clutter" /> Lots of tight hiding spots (clutter, dense storage, baseboards gaps)</label>
            <label><input type="checkbox" id="damage" /> You’ve noticed actual damage to paper/textiles (holes, scraping)</label>
          </div>
        </div>

        <div class="btnrow">
          <button id="btnRun">Get my calm plan</button>
          <button class="ghost" id="btnReset" type="button">Reset</button>
          <button class="ghost" id="btnCopy" type="button">Copy results</button>
        </div>

        <div class="callout" style="margin-top:12px;">
          <div style="font-weight:800;">Your values, explicitly</div>
          <div class="muted" style="margin-top:6px;">
            This site does <b>not</b> recommend killing methods (poisons, traps, sticky boards, DE). It focuses on
            <b>environment shifts</b> + <b>protecting your items</b> so you can coexist with minimal stress.
          </div>
        </div>
      </section>

      <aside class="card">
        <h2>Your results</h2>
        <div class="hint">This updates when you press “Get my calm plan.”</div>

        <div class="kpis">
          <div class="kpi">
            <div class="t">Coexistence level</div>
            <div class="v" id="kpiLevel">—</div>
          </div>
          <div class="kpi">
            <div class="t">Main driver</div>
            <div class="v" id="kpiDriver">—</div>
          </div>
          <div class="kpi">
            <div class="t">Priority focus</div>
            <div class="v" id="kpiFocus">—</div>
          </div>
        </div>

        <div class="bar" aria-hidden="true"><div id="riskBar"></div></div>
        <div class="tiny" id="riskNote" style="margin-top:8px;">—</div>

        <div class="result" id="result">
          <div class="tag"><span class="dot" id="dot"></span><span id="tagText">—</span></div>

          <div id="reassure" class="callout"></div>

          <div class="section">
            <div style="font-weight:800;">Your non-lethal plan</div>
            <div class="muted" style="margin-top:6px;">Pick 2–3 steps for a week. Small changes beat big stress.</div>
            <ul class="list" id="plan"></ul>
          </div>

          <div class="section">
            <div style="font-weight:800;">Protect what you care about</div>
            <ul class="list" id="protect"></ul>
          </div>

          <div class="section">
            <div style="font-weight:800;">When to escalate (still non-lethal)</div>
            <ul class="list" id="escalate"></ul>
          </div>
        </div>

        <footer>
          <div><b>Myth check:</b> Seeing silverfish usually doesn’t mean “your home is dirty.” It often means “this spot is comfortably damp or sheltered.”</div>
          <div style="margin-top:10px;">
            Photos:
            <a href="https://commons.wikimedia.org/wiki/File:Silberfischchen.jpg">Silberfischchen.jpg</a> by Sebastian Stabinger (CC BY 1.0+),
            <a href="https://commons.wikimedia.org/wiki/File:Silverfish_(49727286462).jpg">Silverfish (49727286462).jpg</a> by James Johnstone (CC BY 2.0),
            <a href="https://commons.wikimedia.org/wiki/File:Lepisma_saccharinum_265840101.jpg">Lepisma saccharinum 265840101.jpg</a> by Steven Lamonde / iNaturalist (CC BY 4.0).
          </div>
        </footer>
      </aside>
    </div>
  </div>

  <script>
    // ---------- scoring + copy ----------
    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function getInputs(){
      return {
        where: document.getElementById('where').value,
        freq: document.getElementById('freq').value,
        night: document.getElementById('night').checked,
        humidity: document.getElementById('humidity').checked,
        leak: document.getElementById('leak').checked,
        paper: document.getElementById('paper').checked,
        clutter: document.getElementById('clutter').checked,
        damage: document.getElementById('damage').checked
      };
    }

    function score(data){
      // A "conflict score" (how likely you’ll feel bothered / see more), not a kill score.
      let s = 0;

      // frequency: most important
      s += ({ once: 8, monthly: 18, weekly: 32, daily: 48 })[data.freq] ?? 18;

      // location weights: signals of moisture vs valuables
      s += ({ bathroom: 10, kitchen: 16, basement: 18, bedroom: 20, books: 24, multiple: 28 })[data.where] ?? 14;

      // drivers
      if (data.humidity) s += 14;
      if (data.leak) s += 18;
      if (data.paper) s += 10;
      if (data.clutter) s += 8;
      if (data.damage) s += 18;
      if (data.night) s += 4;

      // clamp to 0-100
      s = clamp(s, 0, 100);

      // choose driver
      let driver = "Shelter";
      const driverScores = [
        {k:"Humidity", v:(data.humidity?1:0) + (data.leak?1:0) + ((data.where==="bathroom"||data.where==="basement")?1:0)},
        {k:"Paper/food attraction", v:(data.paper?1:0) + ((data.where==="books"||data.where==="kitchen")?1:0)},
        {k:"Open pathways", v:(data.clutter?1:0) + ((data.where==="multiple")?1:0) + ((data.where==="bedroom")?1:0)}
      ];
      driverScores.sort((a,b)=>b.v-a.v);
      if (driverScores[0].v>0) driver = driverScores[0].k;

      // focus
      let focus = "Lower humidity";
      if (driver === "Paper/food attraction") focus = "Protect stored items";
      if (driver === "Open pathways") focus = "Reduce hiding spots";

      // coexistence level labels
      let level = "Low-impact coexistence";
      if (s >= 35) level = "Manageable overlap";
      if (s >= 65) level = "High-conflict zone";

      return { s, driver, focus, level };
    }

    function paletteFor(score){
      if (score < 35) return {color:"var(--accent)", dot:"var(--accent)", label:"LOW", note:"This looks like normal, occasional overlap. Small environmental tweaks usually reduce sightings."};
      if (score < 65) return {color:"var(--warn)", dot:"var(--warn)", label:"MODERATE", note:"You’ll likely see them again unless you shift moisture/shelter and protect key items."};
      return {color:"var(--risk)", dot:"var(--risk)", label:"HIGH", note:"This environment is very comfortable for them, or your valuables are exposed. Focus on habitat shift + item protection."};
    }

    const SHOP_ITEMS = [
      {
        name:"Hygrometer (humidity meter)",
        why:"Turns anxiety into data. You’ll know if you’re actually drying the space.",
        links:[
          {label:"Canada", href:"https://amzn.to/4r4tUnf"},
          {label:"US", href:"https://amzn.to/4qyz7Ti"}
        ]
      },
      {
        name:"Small dehumidifier",
        why:"A gentle, non-lethal habitat shift for bathrooms, closets, basements.",
        links:[
          {label:"Canada", href:"https://amzn.to/45NYxEU"},
          {label:"US", href:"https://amzn.to/4kjW1Mm"}
        ]
      },
      {
        name:"Sealed storage bins / book boxes",
        why:"Protects books and papers without harming any insects.",
        links:[
          {label:"Canada", href:"https://amzn.to/4qlHaCA"},
          {label:"US", href:"https://amzn.to/3O491d9"}
        ]
      }
    ];

    function buildCopy(data, meta){
      // reassurance + plan
      const reassureBits = [];
      reassureBits.push(`<div style="font-weight:800; margin-bottom:6px;">Risk signal: <span style="color:${paletteFor(meta.s).color}; font-weight:900">${paletteFor(meta.s).label}</span> — but calm.</div>`);
      reassureBits.push(`<div class="muted">Silverfish are ancient little recyclers. They’re mostly telling you: “this area is sheltered, and maybe a bit humid.” They don’t bite or infest people.</div>`);

      // tailored reassurance
      if (data.freq === "once" && (data.where==="bathroom" || data.where==="basement")){
        reassureBits.push(`<div style="margin-top:10px;"><b>One sighting in a damp-ish room</b> is extremely common — especially in apartments and older buildings.</div>`);
      }
      if (data.where === "books"){
        reassureBits.push(`<div style="margin-top:10px;"><b>Books/paper area</b> doesn’t mean disaster — it means “protect your paper storage” and gently dry the microclimate.</div>`);
      }
      if (data.leak){
        reassureBits.push(`<div style="margin-top:10px;"><b>Water events</b> are the strongest magnet. If you can dry that zone out, sightings often drop noticeably.</div>`);
      }
      if (data.damage){
        reassureBits.push(`<div style="margin-top:10px;"><b>Possible damage noted:</b> that’s your cue to prioritize protecting items (sealed storage) while you adjust humidity/shelter.</div>`);
      }

      // plan steps (non-lethal)
      const plan = [];
      // always good
      plan.push("Do a 7-day “microclimate reset”: improve airflow (fan/vent) for 10–20 minutes after showers or cooking.");
      plan.push("Vacuum along baseboards and behind/under bathroom and kitchen fixtures (removes crumbs and shed material).");

      if (data.humidity || data.where==="bathroom" || data.where==="basement"){
        plan.push("Aim for ~40–50% indoor humidity if you can (comfort for humans, less ideal for silverfish). A hygrometer helps you *see* progress.");
        plan.push("Dry the quiet damp zones: under-sink cabinet, behind toilet, around laundry, inside closets on exterior walls.");
      } else {
        plan.push("Check for hidden humidity: under sinks, behind appliances, window condensation, closet corners.");
      }

      if (data.paper || data.where==="books"){
        plan.push("Move paper/cardboard off floors and away from exterior walls; switch to sealed bins or lidded containers.");
      }

      if (data.clutter || data.where==="multiple"){
        plan.push("Reduce hiding seams: tidy dense piles, seal obvious gaps around baseboards/pipe penetrations (simple caulk/foam where appropriate).");
      }

      if (data.leak){
        plan.push("If there was a leak: dry fast (fans + airflow). Consider a moisture meter if you want certainty.");
      }

      // protection steps
      const protect = [];
      protect.push("Books/papers: store in lidded bins, book boxes, or closed cabinets; keep shelves a few cm off exterior walls if possible.");
      protect.push("Clothes/linens: keep the floor clear, store off the ground, and avoid long-term cardboard storage.");
      protect.push("Food/pantry: use jars or sealed containers; wipe crumbs and keep pet food sealed overnight.");
      if (data.where==="kitchen"){
        protect.push("Kitchen-specific: check gaps under sink and around dishwasher/fridge; keep that zone dry and crumb-free.");
      }
      if (data.where==="bathroom"){
        protect.push("Bathroom-specific: run fan longer, squeegee shower walls if you can, and keep towels drying with airflow.");
      }

      // escalation (still non-lethal)
      const escalate = [];
      escalate.push("If daily sightings continue after 2–3 weeks of drying + storage: look for a persistent moisture source (slow leak, poor ventilation, damp wall).");
      escalate.push("If you rent: document humidity/condensation and ask for ventilation or leak inspection (this is building health, not a cleanliness issue).");
      escalate.push("If you want a “boundary” without harm: focus on sealing entry gaps and making preferred zones (bathroom/basement) less damp.");

      return { reassureHTML: reassureBits.join(""), plan, protect, escalate };
    }

    function render(){
      const data = getInputs();
      const meta = score(data);
      const pal = paletteFor(meta.s);

      // top bar just a vibe indicator
      const topBar = document.getElementById('topBar');
      topBar.style.width = (meta.s) + "%";
      topBar.style.background = pal.color;

      // KPI
      document.getElementById('kpiLevel').textContent = meta.level;
      document.getElementById('kpiDriver').textContent = meta.driver;
      document.getElementById('kpiFocus').textContent = meta.focus;

      // risk bar
      const riskBar = document.getElementById('riskBar');
      riskBar.style.width = meta.s + "%";
      riskBar.style.background = pal.color;
      document.getElementById('riskNote').textContent = pal.note;

      // tag + dot
      document.getElementById('dot').style.background = pal.dot;
      document.getElementById('dot').style.boxShadow = `0 0 0 4px ${pal.dot.replace("var(--","rgba(").includes("rgba(") ? "rgba(126,231,135,.12)" : "rgba(126,231,135,.12)"}`;
      document.getElementById('tagText').textContent = `Coexistence signal: ${pal.label} (${meta.s}/100)`;

      const copy = buildCopy(data, meta);

      // reassurance
      const r = document.getElementById('reassure');
      r.innerHTML = copy.reassureHTML;

      // lists
      const planEl = document.getElementById('plan');
      planEl.innerHTML = "";
      copy.plan.forEach(x=>{
        const li=document.createElement('li');
        li.textContent=x;
        planEl.appendChild(li);
      });

      const protectEl = document.getElementById('protect');
      protectEl.innerHTML = "";
      copy.protect.forEach(x=>{
        const li=document.createElement('li');
        li.textContent=x;
        protectEl.appendChild(li);
      });

      const escEl = document.getElementById('escalate');
      escEl.innerHTML = "";
      copy.escalate.forEach(x=>{
        const li=document.createElement('li');
        li.textContent=x;
        escEl.appendChild(li);
      });

      document.getElementById('result').style.display = "block";
      window.__lastResult = { data, meta, pal, copy };
    }

    function renderShop(){
      const shopEl = document.getElementById('shop');
      if (!shopEl) return;
      shopEl.innerHTML = "";
      SHOP_ITEMS.forEach(item=>{
        const div = document.createElement('div');
        div.className = "shopitem";
        const links = (item.links && item.links.length)
          ? item.links.map(l=>`<a href="${l.href}" class="tiny" target="_blank" rel="noopener noreferrer">${l.label} link →</a>`).join(" ")
          : `<a href="#" onclick="return false;" class="tiny">Add your affiliate link →</a>`;
        div.innerHTML = `
          <div class="name">${item.name}</div>
          <div class="why">${item.why}</div>
          <div style="margin-top:10px;">
            ${links}
          </div>
        `;
        shopEl.appendChild(div);
      });
    }

    function resetAll(){
      document.getElementById('where').value = "bathroom";
      document.getElementById('freq').value = "once";
      ["night","humidity","leak","paper","clutter","damage"].forEach(id=>document.getElementById(id).checked=false);
      document.getElementById('result').style.display = "none";
      document.getElementById('kpiLevel').textContent = "—";
      document.getElementById('kpiDriver').textContent = "—";
      document.getElementById('kpiFocus').textContent = "—";
      document.getElementById('riskNote').textContent = "—";
      document.getElementById('riskBar').style.width = "0%";
      document.getElementById('topBar').style.width = "0%";
      window.__lastResult = null;
    }

    async function copyResults(){
      if (!window.__lastResult){
        alert("Run the tool first.");
        return;
      }
      const { data, meta, pal } = window.__lastResult;
      const lines = [
        "Silverfish Sense — results",
        `Coexistence signal: ${pal.label} (${meta.s}/100)`,
        `Level: ${meta.level}`,
        `Main driver: ${meta.driver}`,
        `Priority focus: ${meta.focus}`,
        "",
        "Your inputs:",
        `Where: ${data.where}`,
        `Frequency: ${data.freq}`,
        `Night: ${data.night ? "yes" : "no"}`,
        `Humidity clues: ${data.humidity ? "yes" : "no"}`,
        `Leak/water event: ${data.leak ? "yes" : "no"}`,
        `Paper exposure: ${data.paper ? "yes" : "no"}`,
        `Hiding spots: ${data.clutter ? "yes" : "no"}`,
        `Damage noticed: ${data.damage ? "yes" : "no"}`,
        "",
        "Note: This is coexistence-first and non-lethal."
      ].join("\n");

      try{
        await navigator.clipboard.writeText(lines);
        alert("Copied to clipboard.");
      }catch(e){
        // fallback
        const ta=document.createElement("textarea");
        ta.value=lines;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        alert("Copied to clipboard.");
      }
    }

    document.getElementById('btnRun').addEventListener('click', render);
    document.getElementById('btnReset').addEventListener('click', resetAll);
    document.getElementById('btnCopy').addEventListener('click', copyResults);

    function initVisitCounter(){
      const key = "silverfish-sense-visits";
      let count = 0;
      try{
        count = parseInt(localStorage.getItem(key) || "0", 10);
        if (Number.isNaN(count)) count = 0;
        count += 1;
        localStorage.setItem(key, String(count));
      }catch(e){
        // If storage is blocked, show a single visit
        count = 1;
      }

      const pad = String(count).padStart(6, "0");
      const el = document.getElementById("visitCounter");
      if (el) el.textContent = `Visitors: ${pad}`;
    }

    // initialize
    resetAll();
    initVisitCounter();
    renderShop();
  </script>
</body>
</html>
